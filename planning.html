<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DIGIY LOC â€¢ Planning</title>

  <link rel="stylesheet" href="./ui.css">
</head>

<body>
<div class="wrap">

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="brand">
      <div class="ico">ğŸ“…</div>
      <div>
        <div class="title">DIGIY LOC â€¢ PRO</div>
        <div class="sub">Planning â€” gestion des disponibilitÃ©s</div>
      </div>
    </div>
    <div class="actions">
      <div class="pill" onclick="location.href='index.html'">â† Dashboard</div>
      <div class="pill" onclick="location.href='https://beauville.github.io/mon-espace-digiy/?choose=1'">ğŸ¦… Menu</div>
    </div>
  </div>

  <!-- NAV -->
  <div class="nav">
    <a href="planning.html">ğŸ“… Planning</a>
    <a href="reservations.html">ğŸ§¾ RÃ©servations</a>
    <a href="encaissements.html">ğŸ’¸ Encaissements</a>
    <a href="tarifs.html">ğŸ·ï¸ Tarifs</a>
    <a href="media.html">ğŸ“¸ Photos</a>
    <a href="fiche.html">ğŸ‘¤ Fiche</a>
  </div>

  <!-- CALENDAR -->
  <div class="card">
    <h2>Calendrier â€” Octobre 2025</h2>
    <div class="muted">
      Clique sur un jour pour changer son statut (interface locale).
    </div>

    <div class="calendar">
      <!-- Days header -->
      <div class="cal-head">Lun</div>
      <div class="cal-head">Mar</div>
      <div class="cal-head">Mer</div>
      <div class="cal-head">Jeu</div>
      <div class="cal-head">Ven</div>
      <div class="cal-head">Sam</div>
      <div class="cal-head">Dim</div>

      <!-- Empty start -->
      <div class="cal-day off"></div>
      <div class="cal-day off"></div>

      <!-- Days -->
      <div class="cal-day free" data-day="1">1</div>
      <div class="cal-day booked" data-day="2">2</div>
      <div class="cal-day free" data-day="3">3</div>
      <div class="cal-day free" data-day="4">4</div>
      <div class="cal-day closed" data-day="5">5</div>
      <div class="cal-day free" data-day="6">6</div>
      <div class="cal-day booked" data-day="7">7</div>
      <div class="cal-day free" data-day="8">8</div>
      <div class="cal-day free" data-day="9">9</div>
      <div class="cal-day booked" data-day="10">10</div>
      <div class="cal-day free" data-day="11">11</div>
      <div class="cal-day free" data-day="12">12</div>
      <div class="cal-day closed" data-day="13">13</div>
      <div class="cal-day free" data-day="14">14</div>
      <div class="cal-day free" data-day="15">15</div>
      <div class="cal-day booked" data-day="16">16</div>
      <div class="cal-day free" data-day="17">17</div>
      <div class="cal-day free" data-day="18">18</div>
      <div class="cal-day free" data-day="19">19</div>
      <div class="cal-day closed" data-day="20">20</div>
      <div class="cal-day free" data-day="21">21</div>
      <div class="cal-day free" data-day="22">22</div>
      <div class="cal-day booked" data-day="23">23</div>
      <div class="cal-day free" data-day="24">24</div>
      <div class="cal-day free" data-day="25">25</div>
      <div class="cal-day free" data-day="26">26</div>
      <div class="cal-day closed" data-day="27">27</div>
      <div class="cal-day free" data-day="28">28</div>
      <div class="cal-day free" data-day="29">29</div>
      <div class="cal-day free" data-day="30">30</div>
      <div class="cal-day free" data-day="31">31</div>
    </div>
  </div>

  <!-- LEGEND + ACTIONS -->
  <div class="grid">
    <div class="card">
      <h2>LÃ©gende</h2>
      <div class="row">
        <div class="chip"><span class="dot free"></span> Libre</div>
        <div class="chip"><span class="dot booked"></span> RÃ©servÃ©</div>
        <div class="chip"><span class="dot closed"></span> FermÃ©</div>
      </div>
    </div>

    <div class="card">
      <h2>Actions rapides</h2>
      <button class="btn" onclick="alert('UI prÃªte â†’ futur : bloquer une pÃ©riode')">
        ğŸš« Bloquer une pÃ©riode
      </button>
      <button class="btn" onclick="alert('UI prÃªte â†’ futur : ouvrir tout le mois')">
        âœ… Ouvrir tout le mois
      </button>
      <button class="btn" onclick="alert('UI prÃªte â†’ futur : sync rÃ©servations')">
        ğŸ”„ Synchroniser rÃ©servations
      </button>
    </div>
  </div>

</div>

<!-- STYLE CALENDAR -->
<style>
.calendar{
  margin-top:14px;
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
}
.cal-head{
  text-align:center;
  font-size:12px;
  color:var(--muted);
  font-weight:900;
}
.cal-day{
  border-radius:14px;
  padding:14px 0;
  text-align:center;
  font-weight:900;
  cursor:pointer;
  user-select:none;
  border:1px solid var(--line);
}
.cal-day.free{background:rgba(34,197,94,.18);color:var(--ok)}
.cal-day.booked{background:rgba(249,115,115,.18);color:var(--danger)}
.cal-day.closed{background:rgba(148,163,184,.18);color:var(--muted)}
.cal-day.off{opacity:.2;border:none;cursor:default}
.dot{
  width:10px;height:10px;border-radius:50%;display:inline-block
}
.dot.free{background:var(--ok)}
.dot.booked{background:var(--danger)}
.dot.closed{background:var(--muted)}
</style>

<!-- JS UI ONLY -->
<script>
document.querySelectorAll(".cal-day").forEach(day=>{
  if(day.classList.contains("off")) return;
  day.addEventListener("click",()=>{
    if(day.classList.contains("free")){
      day.classList.remove("free"); day.classList.add("booked");
    }else if(day.classList.contains("booked")){
      day.classList.remove("booked"); day.classList.add("closed");
    }else{
      day.classList.remove("closed"); day.classList.add("free");
    }
  });
});
</script>
  <!-- âœ… SUPABASE + GUARD (LOC PRO sÃ©curisÃ©) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="./guard.js"></script>
<script>
  // Verrouille la page: Auth + abonnement LOC obligatoire
  DIGIY_GUARD.boot({
    module: "LOC",
    dashboard: location.href,         // reste sur la page si OK
    login: "./login.html",
    pay: "https://beauville.github.io/commencer-a-payer/"
  });
</script>

<script src="./ui.js"></script>
</body>
</html>

